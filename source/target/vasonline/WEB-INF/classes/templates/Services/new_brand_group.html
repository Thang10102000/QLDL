<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      lang="vi">
<head th:replace="fragments/html-head">
    <meta charset="utf-8">
    <title>Thêm nhóm gói cước</title>
</head>

<body>
    <form th:action="@{/new-brand-group}" method="post">
        <table class="table table-condensed col">
            <tr>
                <td><label for="name">Tên nhóm gói cước <b class="required">(*)</b></label>
                    <input type="text" name="brandGroupName" class="form-control"
                           placeholder="Tên nhóm gói cước" id="name" autocomplete="off">
                    <span class="required" id="groupNameMessage"></span>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="service">Dịch vụ <b class="required">(*)</b></label>
                    <select name="service" id="service" class="form-control sNew">
                        <option th:each="service : ${services}"
                                th:value="${service.id}" th:text="${service.serviceName}"></option>
                    </select></td>
                <td>
            </tr>
            <tr>
                <td>
                    <label for="description">Mô tả</label> <textarea rows="1"
                        type="text" name="description" class="form-control"
                        placeholder="Mô tả" id="description" autocomplete="off"></textarea>
                    <input type="hidden" id="createdBy" name="createdBy"
                           th:value="${#request.userPrincipal.Principal.users.username}">
                </td>
            </tr>
            <tr class='control'>
                <td colspan='4' align='center'>
                    <button type="submit" class="btn btn-primary button-control"
                            name="doNew" id="doNew">
                        <i class="fa fa-plus-square"></i> Thêm mới
                    </button>
                    <a type="button" id="doBack"
                       class="btn btn-primary button-control"  data-dismiss="modal"><i
                            class="fa fa-undo" aria-hidden="true"></i> Quay lại</a>
                </td>
            </tr>
        </table>
    </form>
<script src="/vasonline/js/custom_service.js"></script>
<script type="text/javascript">
    var ser = localStorage.getItem("ser");
    $(document).ready(function () {
        $('#sidebarCollapse').on('click', function () {
            $('#sidebar').toggleClass('active');
        });
        $("#name").on('keydown',function () {
            $("#groupNameMessage").text();
        })
        if ($("#svId").val() != ""){
            let id = $("#svId").val()
            $("#service").val(id);
        }
    });
    $(document).on("click","#doNew",function () {
        var format = /[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
        if (format.test($("#name").val())) {
            $("#groupNameMessage").text("Tên nhóm gói cước chứa ký tự đặc biệt");
            $("#name").focus();

        }
        if ($("#name").val() === '') {
            $("#groupNameMessage").text("Bạn chưa nhập tên nhóm gói cước");
            $("#name").focus();

        }
    })
</script>
</body>

</html>