<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="vi">
<head th:replace="fragments/html-head">
    <meta charset="utf-8">
    <title>Thêm mới đại lý</title>

</head>

<body>
<form th:action="@{/new-amkam}" method="post" id="form">
    <table class="table table-condensed col">
        <tr>
            <td style="width: 33.333333%;"><label for="amkamCode">Mã AM/KAM<b class="required">(*)</b></label>
                <input type="text" name="amkamCode" class="form-control"
                            placeholder="Mã AM/KAM" id="amkamCode" autocomplete="off">
                <span class="required" id="amkamCodeMessage"></span>
            </td>
            <td style="width: 33.333333%;"><label for="amkamName">Tên AM/KAM<b class="required">(*)</b></label>
                <input type="text" name="amkamName" class="form-control"
                       placeholder="Tên AM/KAM" id="amkamName" autocomplete="off">
                <span class="required" id="amkamNameMessage"></span>
            </td>
            <tr>
        <td><label for="areaId">Công ty khu vực <b class="required">(*)</b></label> <select
                        name="areaId" id="areaId" class="form-control" th:if="${#lists.size(agencyArea) >= 2}">
                    <option value=''>--Chọn công ty khu vực--</option>
                    <option th:each="area : ${agencyArea}"
                            th:value="${area.areaId}" th:text="${area.areaName}">
                    </option>
                </select>
                    <select name="areaId" id="areaId" class="form-control" th:if="${#lists.size(agencyArea) < 2}">
                        <option th:each="area : ${agencyArea}"
                                th:value="${area.areaId}" th:text="${area.areaName}">
                        </option>
                    </select>
                </td>
                <td style="width: 33.333333%;"><label for="shopCode">Mã đơn vị bán hàng</b></label>
                    <input type="text" name="shopCode" class="form-control"
                               placeholder="Mã đơn vị bán hàng" id="shopCode" autocomplete="off">
                    <span class="required" id="shopCodeMessage"></span>
                </td>
            </tr>
            <tr class='control'>
                <td colspan='4' align='center'>
                    <button type="submit" class="btn btn-primary button-control"
                            name="doCreate" id="doCreate">
                        <i class="fa fa-plus-square"></i> Thêm mới
                    </button> <a type="button" id="doBack"
                                 class="btn btn-primary button-control" data-dismiss="modal"><i
                        class="fa fa-undo" aria-hidden="true"></i> Quay lại</a>
                </td>
            </tr>
        </tr>
    </table>
</form>

<script src="/vasonline/js/select2.min.js"></script>
<script src="/vasonline/js/bootstrap-datepicker.min.js"></script>
<script src="/vasonline/js/custom_service.js"></script>
<script src="/vasonline/js/amkam-search.js"></script>

<script>
    $(document).ready(function () {
        $("#amkamCode , #amkamName, #shopCode").keydown(function () {
            $("#amkamCodeMessage").text("");
            $("#amkamNameMessage").text("");
            $("#shopCodeMessage").text("");
        })
    });
    $('#form').submit(function(){
        $("#doCreate", this)
            .html("Đang xử lý...")
            .attr('disabled', 'disabled');
        return true;
    });
    $(document).on('click', "#doCreate", function () {
        if ($("#amkamCode").val().trim() === '') {
            $("#amkamCodeMessage").text(
                "Bạn nhập mã AM/KAM không hợp lệ");
            $("#amkamCode").focus();
            return false;
        }
        if ($("#amkamName").val().trim() === '') {
            $("#amkamNameMessage").text(
                "Bạn nhập tên AM/KAM không hợp lệ");
            $("#amkamName").focus();
            return false;
        }
    })
</script>
</body>

</html>