<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      lang="vi">
<head th:replace="fragments/html-head">
    <meta charset="utf-8">
    <title>Thêm mới chính sách chiết khấu</title>
</head>

<body>
    <form th:action="@{/new-discount}" method="post">
        <table class="table table-condensed col new-discount" id="tbDiscount">
            <tr>
                <td colspan="2" >
                    <label for="policyName">Tên chính sách<b class="required">(*)</b></label>
                    <input type="text" name="policyName" class="form-control" placeholder="Tên chính sách"
                           id="policyName" autocomplete="off">
                    <span class="required" id="policyNameMessage"></span>
                </td>
                <td colspan="2">
                    <label for="description">Mô tả chính sách </label>
                    <textarea type="text" name="description" class="form-control" rows="1"
                              placeholder="Mô tả chính sách" id="description" autocomplete="off"></textarea>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <label for="startDate">Ngày bắt đầu<b class="required">(*)</b></label>
                    <input type="text" name="startDate" class="form-control" placeholder="Ngày bắt đầu"
                           id="startDate" autocomplete="off">
                    <span class="required" id="startDateMessage"></span>
                </td>
                <td colspan="2" style="width: 50%;">
                    <label for="endDate">Ngày kết thúc<b class="required">(*)</b></label>
                    <input type="text" name="endDate" class="form-control" placeholder="Ngày kết thúc"
                           id="endDate" autocomplete="off">
                    <span class="required" id="endDateMessage"></span>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input type="checkbox" name="isDefault" id="isDefault"> Chính sách chiết khấu mặc định
                    <input type="hidden" id="checkDefault" name="checkDefault">
                </td>
                <td colspan="2">
                    <input type="checkbox" id="allAgency" name="allAgency"> Áp dụng tất cả đại lý
                </td>
            </tr>
            <tr class="notAllAgency" hidden="true">
                <td colspan="2">
                    <label for="selectCTKV">Chọn công ty khu vực<b class="required">(*)</b></label>
                    <select name="selectCTKV" id="selectCTKV"
                            class="selectService select2 form-control " multiple>
                        <option
                                th:each="aga : ${agencyArea}"
                                th:value="${aga.areaId}"
                                th:text="${aga.areaName}"
                        ></option>

                    </select>
                </td>
                <td colspan="2">
                    <input type="hidden" name="agency" class="agency" id="agency">
                    <label for="agencyDiscounts">Chọn đại lý<b
                            class="required">(*)</b></label>
                    <select name="agencyDiscounts" id="agencyDiscounts"
                            class="agencyDiscounts select2 form-control " multiple>
                    </select>
                    <span class="required" id="agencyDiscountsMessage"></span>
                </td>
            </tr>
            <tr class="discount-rate">
                <td>
                    <label for="minOrder">Hạn mức từ(VNĐ)<b class="required">(*)</b></label>
                    <input type="text" name="minOrder" class="form-control formatMoney" data-type='currency'
                           placeholder="Hạn mức dưới"
                           id="minOrder" autocomplete="off">
                    <span class="required" id="minOrderMessage"></span>
                </td>
                <td>
                    <label for="limitOrder">Hạn mức đến(VNĐ)<b class="required">(*)</b></label>
                    <input type="text" name="limitOrder" class="form-control formatMoney"
                           data-type='currency' placeholder="Hạn mức trên"
                           id="limitOrder" autocomplete="off">
                    <span class="required" id="limitOrderMessage"></span>
                </td>
                <td>
                    <label for="discountRate">Tỷ lệ chiết khấu<b class="required">(*)</b></label>
                    <input type="number" name="discountRate" class="form-control"
                           placeholder="Tỷ lệ chiết khấu"
                           id="discountRate" min="0" max="100">
                    <span class="required" id="discountRateMessage"></span>
                </td>
                <td>
                    <input type="hidden" id="lengthArr" name="lengthArr" class="lengthArr">
                    <label class="title-plus"> Thêm </label><br>
                    <a class="addAttr" onclick="addDiscountRate()"><i class="fa fa-plus" aria-hidden="true"></i></a>
<!--                               <a class="removeAttr"><i class="fa fa-minus" aria-hidden="true"></i></a>-->
                </td>
            </tr>
            <tr class='control ctl-discount'>
                <td colspan='4' align='center'>
                    <button type="submit" class="btn btn-primary button-control" name="doNew" id="doNew"><i
                            class="fa fa-plus-square"></i>
                        Thêm mới
                    </button>
                    <button type="button" id="doBack" class="btn btn-primary button-control" data-dismiss="modal"><i
                            class="fa fa-undo" aria-hidden="true"></i> Quay lại</button>
                </td>
            </tr>
        </table>
    </form>
    <script src="/vasonline/js/discount-create.js"></script>
    <script src="/vasonline/js/bootstrap-datepicker.min.js"></script>
    <link rel="stylesheet" href="/vasonline/style/bootstrap-datepicker.min.css">
    <script src="/vasonline/js/custom_service.js"></script>
    <script src="/vasonline/js/select2.min.js"></script>
</body>

</html>