<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
	lang="vi">
<head th:replace="fragments/html-head">
<meta charset="utf-8">
<title>Đổi mật khẩu</title>
</head>
<body>
	<div class="wrapper" sec:authorize="isAuthenticated()">
		<div class="box box-primary table-responsive">
			<form th:action="@{/admin/user-management/changePassword}" method='POST'>
				<table class="table table-sm">
					<tr>
						<td><label for="old-password">Mật khẩu hiện tại</label>
							<input type="password" class="form-control"
							placeholder="Mật khẩu hiện tại" name="old-password" id="old-password"></td>
					</tr>
					<tr>
						<td><label for="password">Mật khẩu mới</label>
							<input type="password" class="form-control"
							placeholder="Password" name="password" id="password">
							<span th:utext="${passwordValidate}" id="passwordMessage" class="required"></span></td>
					</tr>
					<tr>
						<td><label for="re-password">Nhập lại mật khẩu</label>
							<input type="password" class="form-control"
							placeholder="Password" name="re-password" id="re-password">
							<span th:utext="${password2Validate}" id="re-passwordMessage" class="required"></span></td>
					</tr>
					<tr class='control'>
						<td colspan='4' align='center'>
							<button class="btn btn-primary button-control" id="doChange"
								type="submit">
								<i class="fa fa-pencil"></i> THAY ĐỔI
							</button>&nbsp;
							<a type="button" id="doBack"
								class="btn btn-primary button-control"  data-dismiss="modal"><i
								class="fa fa-undo" aria-hidden="true"></i> Quay lại</a>&nbsp;
						</td>
					</tr>
				</table>
			</form>
		</div>
	</div>
	<script src="/vasonline/js/custom_service.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			$('#sidebarCollapse').on('click', function() {
				$('#sidebar').toggleClass('active');
			});
		});

		$("#doChange").on('click', function () {
			var format = /[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/;
			var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
			if($("#password").val() != $("#re-password").val()){
				$("#re-passwordMessage").text("Mật khẩu không trùng khớp");
				$("#re-password").focus();
				return false;
			}
		})
	</script>
</body>

</html>